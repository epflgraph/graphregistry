
CREATE TABLE IF NOT EXISTS Data_N_Object_N_Object_T_AllFieldsSymmetric (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  field_name varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  field_value text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (row_id),
  UNIQUE KEY uid (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id,field_language,field_name),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY field_language (field_language),
  KEY field_name (field_name)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Data_N_Object_N_Object_T_CalculatedFields (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') COLLATE utf8mb4_unicode_ci NOT NULL,
  field_name varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  field_value text COLLATE utf8mb4_unicode_ci NOT NULL,
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id,field_language,field_name),
  UNIQUE KEY row_id (row_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY field_language (field_language),
  KEY field_name (field_name),
  KEY edge_key (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Data_N_Object_T_AllFields (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  field_name varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  field_value longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (row_id),
  UNIQUE KEY uid (institution_id,object_type,object_id,field_language,field_name),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY field_language (field_language),
  KEY field_name (field_name)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Data_N_Object_T_CalculatedFields (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') COLLATE utf8mb4_unicode_ci NOT NULL,
  field_name varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  field_value text COLLATE utf8mb4_unicode_ci NOT NULL,
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (institution_id,object_type,object_id,field_language,field_name),
  UNIQUE KEY row_id (row_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY field_language (field_language),
  KEY field_name (field_name),
  KEY object_key (institution_id,object_type,object_id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Data_N_Object_T_PageProfile (
  institution_id varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  numeric_id_en int unsigned DEFAULT NULL,
  numeric_id_fr int unsigned DEFAULT NULL,
  numeric_id_de int unsigned DEFAULT NULL,
  numeric_id_it int unsigned DEFAULT NULL,
  short_code varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_en varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_fr varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_de varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_it varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_en_is_auto_generated tinyint DEFAULT NULL,
  name_en_is_auto_corrected tinyint DEFAULT NULL,
  name_en_is_auto_translated tinyint DEFAULT NULL,
  name_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  name_fr_is_auto_generated tinyint DEFAULT NULL,
  name_fr_is_auto_corrected tinyint DEFAULT NULL,
  name_fr_is_auto_translated tinyint DEFAULT NULL,
  name_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  name_de_is_auto_generated tinyint DEFAULT NULL,
  name_de_is_auto_corrected tinyint DEFAULT NULL,
  name_de_is_auto_translated tinyint DEFAULT NULL,
  name_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  name_it_is_auto_generated tinyint DEFAULT NULL,
  name_it_is_auto_corrected tinyint DEFAULT NULL,
  name_it_is_auto_translated tinyint DEFAULT NULL,
  name_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_en_is_auto_generated tinyint DEFAULT NULL,
  description_short_en_is_auto_corrected tinyint DEFAULT NULL,
  description_short_en_is_auto_translated tinyint DEFAULT NULL,
  description_short_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_fr_is_auto_generated tinyint DEFAULT NULL,
  description_short_fr_is_auto_corrected tinyint DEFAULT NULL,
  description_short_fr_is_auto_translated tinyint DEFAULT NULL,
  description_short_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_de_is_auto_generated tinyint DEFAULT NULL,
  description_short_de_is_auto_corrected tinyint DEFAULT NULL,
  description_short_de_is_auto_translated tinyint DEFAULT NULL,
  description_short_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_it_is_auto_generated tinyint DEFAULT NULL,
  description_short_it_is_auto_corrected tinyint DEFAULT NULL,
  description_short_it_is_auto_translated tinyint DEFAULT NULL,
  description_short_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_en_is_auto_generated tinyint DEFAULT NULL,
  description_medium_en_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_en_is_auto_translated tinyint DEFAULT NULL,
  description_medium_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_fr_is_auto_generated tinyint DEFAULT NULL,
  description_medium_fr_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_fr_is_auto_translated tinyint DEFAULT NULL,
  description_medium_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_de_is_auto_generated tinyint DEFAULT NULL,
  description_medium_de_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_de_is_auto_translated tinyint DEFAULT NULL,
  description_medium_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_it_is_auto_generated tinyint DEFAULT NULL,
  description_medium_it_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_it_is_auto_translated tinyint DEFAULT NULL,
  description_medium_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_en_is_auto_generated tinyint DEFAULT NULL,
  description_long_en_is_auto_corrected tinyint DEFAULT NULL,
  description_long_en_is_auto_translated tinyint DEFAULT NULL,
  description_long_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_fr_is_auto_generated tinyint DEFAULT NULL,
  description_long_fr_is_auto_corrected tinyint DEFAULT NULL,
  description_long_fr_is_auto_translated tinyint DEFAULT NULL,
  description_long_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_de_is_auto_generated tinyint DEFAULT NULL,
  description_long_de_is_auto_corrected tinyint DEFAULT NULL,
  description_long_de_is_auto_translated tinyint DEFAULT NULL,
  description_long_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_it_is_auto_generated tinyint DEFAULT NULL,
  description_long_it_is_auto_corrected tinyint DEFAULT NULL,
  description_long_it_is_auto_translated tinyint DEFAULT NULL,
  description_long_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  external_key_en varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_key_fr varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_key_de varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_key_it varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_url_en text COLLATE utf8mb4_unicode_ci,
  external_url_fr text COLLATE utf8mb4_unicode_ci,
  external_url_de text COLLATE utf8mb4_unicode_ci,
  external_url_it text COLLATE utf8mb4_unicode_ci,
  is_visible tinyint NOT NULL DEFAULT '0',
  to_process tinyint NOT NULL DEFAULT '0',
  row_id int unsigned NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (institution_id,object_type,object_id),
  UNIQUE KEY uid (institution_id,object_type,object_id),
  UNIQUE KEY row_id (row_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY is_visible (is_visible),
  KEY has_expired (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Course_N_Concept_T_SlideSumScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  sum_score double DEFAULT NULL,
  PRIMARY KEY (institution_id,object_type,object_id,concept_id),
  UNIQUE KEY uid (institution_id,object_type,object_id,concept_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Course_N_Lecture_T_ParentToChild (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  academic_year varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  channel_type enum('category','playlist') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  old_sort_number int unsigned DEFAULT NULL,
  sort_number bigint unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  UNIQUE KEY uid (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Lecture_N_Concept_T_SlideSumScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  sum_score double DEFAULT NULL,
  PRIMARY KEY (institution_id,object_type,object_id,concept_id),
  UNIQUE KEY uid (institution_id,object_type,object_id,concept_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Lecture_N_Concept_T_Timestamps (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  detection_score float,
  detection_time_hms time(3) NOT NULL,
  detection_timestamp smallint unsigned NOT NULL,
  PRIMARY KEY (institution_id,object_type,object_id,concept_id,detection_time_hms),
  UNIQUE KEY uid (institution_id,object_type,object_id,concept_id,detection_time_hms),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id),
  KEY detection_time_hms (detection_time_hms)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Lecture_N_Video_T_ParentToChild_Enriched (
  lecture_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  video_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  n_slides int unsigned DEFAULT NULL,
  is_restricted tinyint DEFAULT NULL,
  subtype enum('classroom','slides') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (lecture_id,video_id),
  KEY lecture_id (lecture_id),
  KEY video_id (video_id),
  KEY is_restricted (is_restricted),
  KEY subtype (subtype)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_MOOC_N_Concept_T_SlideSumScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  sum_score double DEFAULT NULL,
  PRIMARY KEY (institution_id,object_type,object_id,concept_id),
  UNIQUE KEY uid (institution_id,object_type,object_id,concept_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_MOOC_N_Lecture_T_ParentToChild (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  sort_number int unsigned DEFAULT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  UNIQUE KEY uid (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Category_T_CalculatedScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  category_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  to_process tinyint DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,category_id,calculation_type),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY category_id (category_id),
  KEY calculation_type (calculation_type),
  KEY to_process (to_process)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Category_T_FinalScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  category_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float DEFAULT NULL,
  to_process tinyint DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,category_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY category_id (category_id),
  KEY to_process (to_process)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Concept_T_CalculatedScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  to_process tinyint DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,concept_id,calculation_type),
  UNIQUE KEY uid (institution_id,object_type,object_id,concept_id,calculation_type),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id),
  KEY calculation_type (calculation_type),
  KEY to_process (to_process)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Concept_T_FinalScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  to_process tinyint DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,concept_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id),
  KEY to_process (to_process)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Concept_T_ScoringMatrix (
  institution_id varchar(6) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  object_type varchar(17) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  concept_id bigint NOT NULL DEFAULT '0',
  score_1 float DEFAULT NULL,
  score_2 float DEFAULT NULL,
  score_3 float DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,concept_id),
  KEY join_id (object_id,concept_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Concept_T_Tuples (
  institution_id varchar(6) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  object_type varchar(17) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  object_id varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  concept_id bigint NOT NULL DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,concept_id),
  KEY join_id (object_id,concept_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Concept_T_UnionAllScores (
  institution_id varchar(6) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  object_type varchar(17) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  concept_id bigint NOT NULL DEFAULT '0',
  calculation_type varchar(44) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  score float NOT NULL DEFAULT '0',
  UNIQUE KEY uid (institution_id,object_type,object_id,concept_id,calculation_type),
  KEY join_id (object_id,concept_id),
  KEY filter_id (institution_id,object_type,calculation_type),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY concept_id (concept_id),
  KEY calculation_type (calculation_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_CuratedArea_T_CalculatedScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  curated_area_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  to_process tinyint DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,curated_area_id,calculation_type),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY curated_area_id (curated_area_id),
  KEY calculation_type (calculation_type),
  KEY to_process (to_process)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_CuratedArea_T_FinalScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  curated_area_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float DEFAULT NULL,
  to_process tinyint DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,curated_area_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY curated_area_id (curated_area_id),
  KEY to_process (to_process)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_CalculatedScores (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id,calculation_type),
  UNIQUE KEY row_id (row_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY edge_key (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  KEY calculation_type (calculation_type)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_DegreeCombinations (
  from_institution_id varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  from_object_type varchar(17) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  to_institution_id varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  to_object_type varchar(17) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  degree bigint NOT NULL DEFAULT '0',
  log_degree double DEFAULT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_MaxLogDegrees (
  from_institution_id varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  from_object_type varchar(17) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  to_institution_id varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  to_object_type varchar(17) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  max_log_degree double DEFAULT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,to_institution_id,to_object_type),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_NormLogDegrees (
  from_institution_id varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  from_object_type varchar(17) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  to_institution_id varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  to_object_type varchar(17) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  degree bigint NOT NULL DEFAULT '0',
  log_degree double DEFAULT NULL,
  norm_log_degree double DEFAULT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_ParentChildSymmetric (
  edge_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  from_institution_id varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  context varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  row_id int unsigned NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id,context),
  UNIQUE KEY uid (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id,context),
  UNIQUE KEY row_id (row_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY context (context),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_ScoresMatrix_AS (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (row_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY unique_key (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY institution_id_object_type (from_institution_id,from_object_type,to_institution_id,to_object_type),
  KEY full_to_object_id (to_institution_id,to_object_type,to_object_id),
  KEY full_from_object_id (from_institution_id,from_object_type,from_object_id),
  KEY to_process (to_process),
  KEY from_to_object_type (from_object_type,to_object_type)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_ScoresMatrix_AVG (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  avg_score float NOT NULL,
  n_rows int unsigned DEFAULT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,to_institution_id,to_object_type),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Edges_N_Object_N_Object_T_ScoresMatrix_GBC (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (row_id),
  UNIQUE KEY unique_key (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY institution_id_object_type (from_institution_id,from_object_type,to_institution_id,to_object_type),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS graph_lectures_Operations_N_Object_N_Object_T_FieldChecksums (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type enum('object fields','child to parent') COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') COLLATE utf8mb4_unicode_ci NOT NULL,
  checksum char(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id,calculation_type,field_language),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY calculation_type (calculation_type),
  KEY field_language (field_language),
  KEY checksum (checksum)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS graph_lectures_Operations_N_Object_T_FieldChecksums (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type enum('object fields','object node','page profile') COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') COLLATE utf8mb4_unicode_ci NOT NULL,
  checksum char(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (institution_id,object_type,object_id,calculation_type,field_language),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY calculation_type (calculation_type),
  KEY field_language (field_language),
  KEY checksum (checksum)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS graph_registry_Operations_N_Object_N_Object_T_FieldChecksums (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type enum('object fields','child to parent') COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') COLLATE utf8mb4_unicode_ci NOT NULL,
  checksum char(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id,calculation_type,field_language),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY calculation_type (calculation_type),
  KEY field_language (field_language),
  KEY checksum (checksum)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS graph_registry_Operations_N_Object_T_FieldChecksums (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  calculation_type enum('object fields','object node','page profile') COLLATE utf8mb4_unicode_ci NOT NULL,
  field_language enum('en','fr','de','it','n/a') COLLATE utf8mb4_unicode_ci NOT NULL,
  checksum char(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (institution_id,object_type,object_id,calculation_type,field_language),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY calculation_type (calculation_type),
  KEY field_language (field_language),
  KEY checksum (checksum)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Category (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  depth smallint unsigned DEFAULT NULL,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY depth (depth),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Concept (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Course (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  latest_academic_year varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY latest_academic_year (latest_academic_year),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Lecture (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  video_stream_url mediumtext COLLATE utf8mb4_unicode_ci,
  video_duration float DEFAULT NULL,
  is_restricted tinyint(1) DEFAULT NULL,
  available_start_date datetime DEFAULT NULL,
  available_end_date datetime DEFAULT NULL,
  srt_subtitles_en mediumtext COLLATE utf8mb4_unicode_ci,
  srt_subtitles_fr mediumtext COLLATE utf8mb4_unicode_ci,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_MOOC (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  domain enum('Basic Science','Environment','Life Science','Brain','Engineering','Urbanism','Computer Science','Business','Development','Misc','Water') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  language enum('English','French','German','Italian','Portuguese') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  level enum('Bachelor','Hors Programme','Master','Preparatory','Propedeutic') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  platform enum('coursera','courseraod','courseware','edx','edx edge','youtube') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  thumbnail_image_url varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY domain (domain),
  KEY language (language),
  KEY level (level),
  KEY platform (platform),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Person (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  is_at_epfl tinyint(1) DEFAULT NULL,
  gender enum('Male','Female') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY is_at_epfl (is_at_epfl),
  KEY gender (gender),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Publication (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  year year DEFAULT NULL,
  published_in mediumtext COLLATE utf8mb4_unicode_ci,
  publisher mediumtext COLLATE utf8mb4_unicode_ci,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY year (year),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Startup (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Unit (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  is_active_unit tinyint(1) DEFAULT NULL,
  is_research_unit tinyint(1) DEFAULT NULL,
  subtype_rank smallint unsigned DEFAULT NULL,
  degree_score float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY is_active_unit (is_active_unit),
  KEY is_research_unit (is_research_unit),
  KEY subtype_rank (subtype_rank),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Docs_Widget (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  chapter_id smallint unsigned DEFAULT NULL,
  mainly_math_notation tinyint(1) DEFAULT NULL,
  mooc_id varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  platform_name enum('coursera','courseraod','courseware','edx','edx edge','youtube') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  quiz_filename varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  quiz_type enum('MultiSelect','SingleSelect') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  sequential_id smallint unsigned DEFAULT NULL,
  study_level enum('Bachelor','Master','HorsProgramme','Preparatory','Propedeutic') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  vertical_id smallint unsigned DEFAULT NULL,
  degree_score float NOT NULL,
  to_process tinyint unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY to_process (to_process),
  KEY chapter_id (chapter_id),
  KEY mainly_math_notation (mainly_math_notation),
  KEY mooc_id (mooc_id),
  KEY platform_name (platform_name),
  KEY quiz_filename (quiz_filename),
  KEY quiz_type (quiz_type),
  KEY sequential_id (sequential_id),
  KEY study_level (study_level),
  KEY vertical_id (vertical_id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Links_ParentChild_Course_Person (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_institution varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  latest_teaching_assignment_year varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id,link_institution,link_type,link_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id,link_institution,link_type,link_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY link_institution (link_institution),
  KEY link_type (link_type),
  KEY link_id (link_id),
  KEY latest_academic_year (latest_teaching_assignment_year),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexBuildup_Fields_Links_ParentChild_Person_Unit (
  row_id int NOT NULL AUTO_INCREMENT,
  doc_institution varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_institution varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_type varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  is_active_affiliation tinyint(1) DEFAULT NULL,
  current_position_rank smallint unsigned DEFAULT NULL,
  to_process tinyint DEFAULT '0',
  PRIMARY KEY (doc_institution,doc_type,doc_id,link_institution,link_type,link_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id,link_institution,link_type,link_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY link_institution (link_institution),
  KEY link_type (link_type),
  KEY link_id (link_id),
  KEY is_active_affiliation (is_active_affiliation),
  KEY current_position_rank (current_position_rank),
  KEY to_process (to_process)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Category (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  depth smallint unsigned DEFAULT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY depth (depth)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Concept (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Course (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  latest_academic_year varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY latest_academic_year (latest_academic_year),
  KEY rollback_date (rollback_date)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Lecture (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  video_stream_url mediumtext COLLATE utf8mb4_unicode_ci,
  video_duration float DEFAULT NULL,
  is_restricted tinyint(1) DEFAULT NULL,
  available_start_date datetime DEFAULT NULL,
  available_end_date datetime DEFAULT NULL,
  srt_subtitles_en mediumtext COLLATE utf8mb4_unicode_ci,
  srt_subtitles_fr mediumtext COLLATE utf8mb4_unicode_ci,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_MOOC (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  domain enum('Basic Science','Environment','Life Science','Brain','Engineering','Urbanism','Computer Science','Business','Development','Misc','Water') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  language enum('English','French','German','Italian','Portuguese') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  level enum('Bachelor','Hors Programme','Master','Preparatory','Propedeutic') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  platform enum('coursera','courseraod','courseware','edx','edx edge','youtube') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  thumbnail_image_url varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY domain (domain),
  KEY language (language),
  KEY level (level),
  KEY platform (platform)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Person (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  is_at_epfl tinyint(1) DEFAULT NULL,
  gender enum('Male','Female') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY is_at_epfl (is_at_epfl),
  KEY gender (gender)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Publication (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  year year DEFAULT NULL,
  published_in mediumtext COLLATE utf8mb4_unicode_ci,
  publisher mediumtext COLLATE utf8mb4_unicode_ci,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY year (year)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Startup (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Unit (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  is_active_unit tinyint(1) DEFAULT NULL,
  is_research_unit tinyint(1) DEFAULT NULL,
  subtype_rank smallint unsigned DEFAULT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY is_active_unit (is_active_unit),
  KEY is_research_unit (is_research_unit),
  KEY subtype_rank (subtype_rank)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Docs_Widget (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  include_code_in_name tinyint(1) NOT NULL,
  chapter_id smallint unsigned DEFAULT NULL,
  mainly_math_notation tinyint(1) DEFAULT NULL,
  mooc_id varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  platform_name enum('coursera','courseraod','courseware','edx','edx edge','youtube') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  quiz_filename varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  quiz_type enum('MultiSelect','SingleSelect') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  sequential_id smallint unsigned DEFAULT NULL,
  study_level enum('Bachelor','Master','HorsProgramme','Preparatory','Propedeutic') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  vertical_id smallint unsigned DEFAULT NULL,
  degree_score float NOT NULL,
  PRIMARY KEY (rollback_date,doc_institution,doc_type,doc_id),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY chapter_id (chapter_id),
  KEY mainly_math_notation (mainly_math_notation),
  KEY mooc_id (mooc_id),
  KEY platform_name (platform_name),
  KEY quiz_filename (quiz_filename),
  KEY quiz_type (quiz_type),
  KEY sequential_id (sequential_id),
  KEY study_level (study_level),
  KEY vertical_id (vertical_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Links_ParentChild_Course_Person (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  link_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  link_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  latest_teaching_assignment_year varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (doc_institution,doc_type,doc_id,link_institution,link_type,link_id,rollback_date),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id,link_institution,link_type,link_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY link_institution (link_institution),
  KEY link_type (link_type),
  KEY link_id (link_id),
  KEY latest_academic_year (latest_teaching_assignment_year)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_Fields_Links_ParentChild_Person_Unit (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  link_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  link_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  is_active_affiliation tinyint(1) DEFAULT NULL,
  current_position_rank smallint unsigned DEFAULT NULL,
  PRIMARY KEY (doc_institution,doc_type,doc_id,link_institution,link_type,link_id,rollback_date),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id,link_institution,link_type,link_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY link_institution (link_institution),
  KEY link_type (link_type),
  KEY link_id (link_id),
  KEY is_active_affiliation (is_active_affiliation),
  KEY current_position_rank (current_position_rank)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_PageProfile (
  rollback_date date NOT NULL,
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  numeric_id_en int unsigned DEFAULT NULL,
  numeric_id_fr int unsigned DEFAULT NULL,
  numeric_id_de int unsigned DEFAULT NULL,
  numeric_id_it int unsigned DEFAULT NULL,
  short_code varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_en varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_fr varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_de varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  subtype_it varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_en_is_auto_generated tinyint DEFAULT NULL,
  name_en_is_auto_corrected tinyint DEFAULT NULL,
  name_en_is_auto_translated tinyint DEFAULT NULL,
  name_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  name_fr_is_auto_generated tinyint DEFAULT NULL,
  name_fr_is_auto_corrected tinyint DEFAULT NULL,
  name_fr_is_auto_translated tinyint DEFAULT NULL,
  name_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  name_de_is_auto_generated tinyint DEFAULT NULL,
  name_de_is_auto_corrected tinyint DEFAULT NULL,
  name_de_is_auto_translated tinyint DEFAULT NULL,
  name_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  name_it_is_auto_generated tinyint DEFAULT NULL,
  name_it_is_auto_corrected tinyint DEFAULT NULL,
  name_it_is_auto_translated tinyint DEFAULT NULL,
  name_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  name_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_en_is_auto_generated tinyint DEFAULT NULL,
  description_short_en_is_auto_corrected tinyint DEFAULT NULL,
  description_short_en_is_auto_translated tinyint DEFAULT NULL,
  description_short_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_fr_is_auto_generated tinyint DEFAULT NULL,
  description_short_fr_is_auto_corrected tinyint DEFAULT NULL,
  description_short_fr_is_auto_translated tinyint DEFAULT NULL,
  description_short_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_de_is_auto_generated tinyint DEFAULT NULL,
  description_short_de_is_auto_corrected tinyint DEFAULT NULL,
  description_short_de_is_auto_translated tinyint DEFAULT NULL,
  description_short_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_short_it_is_auto_generated tinyint DEFAULT NULL,
  description_short_it_is_auto_corrected tinyint DEFAULT NULL,
  description_short_it_is_auto_translated tinyint DEFAULT NULL,
  description_short_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_short_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_en_is_auto_generated tinyint DEFAULT NULL,
  description_medium_en_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_en_is_auto_translated tinyint DEFAULT NULL,
  description_medium_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_fr_is_auto_generated tinyint DEFAULT NULL,
  description_medium_fr_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_fr_is_auto_translated tinyint DEFAULT NULL,
  description_medium_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_de_is_auto_generated tinyint DEFAULT NULL,
  description_medium_de_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_de_is_auto_translated tinyint DEFAULT NULL,
  description_medium_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_medium_it_is_auto_generated tinyint DEFAULT NULL,
  description_medium_it_is_auto_corrected tinyint DEFAULT NULL,
  description_medium_it_is_auto_translated tinyint DEFAULT NULL,
  description_medium_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_medium_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_en_is_auto_generated tinyint DEFAULT NULL,
  description_long_en_is_auto_corrected tinyint DEFAULT NULL,
  description_long_en_is_auto_translated tinyint DEFAULT NULL,
  description_long_en_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_en_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_fr_is_auto_generated tinyint DEFAULT NULL,
  description_long_fr_is_auto_corrected tinyint DEFAULT NULL,
  description_long_fr_is_auto_translated tinyint DEFAULT NULL,
  description_long_fr_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_fr_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_de_is_auto_generated tinyint DEFAULT NULL,
  description_long_de_is_auto_corrected tinyint DEFAULT NULL,
  description_long_de_is_auto_translated tinyint DEFAULT NULL,
  description_long_de_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_de_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  description_long_it_is_auto_generated tinyint DEFAULT NULL,
  description_long_it_is_auto_corrected tinyint DEFAULT NULL,
  description_long_it_is_auto_translated tinyint DEFAULT NULL,
  description_long_it_translated_from char(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  description_long_it_value mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  external_key_en varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_key_fr varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_key_de varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_key_it varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_url_en varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_url_fr varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_url_de varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  external_url_it varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  is_visible tinyint NOT NULL DEFAULT '0',
  row_id bigint unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id,rollback_date),
  UNIQUE KEY uid (institution_id,object_type,object_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY is_visible (is_visible)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS IndexRollback_ScoreRanks_Links (
  row_id int NOT NULL AUTO_INCREMENT,
  rollback_date date NOT NULL,
  doc_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  doc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  link_institution enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  link_type enum('Category','Chart','Concept','Course','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Specialisation','Startup','Strategic area','StudyPlan','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  link_subtype enum('Parent-to-Child','Child-to-Parent','Semantic') COLLATE utf8mb4_unicode_ci NOT NULL,
  link_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  row_score float NOT NULL,
  row_rank smallint unsigned NOT NULL,
  PRIMARY KEY (doc_institution,doc_type,doc_id,link_institution,link_type,link_subtype,link_id,rollback_date),
  UNIQUE KEY row_id (row_id),
  UNIQUE KEY uid (doc_institution,doc_type,doc_id,link_institution,link_type,link_subtype,link_id),
  KEY doc_institution (doc_institution),
  KEY doc_type (doc_type),
  KEY doc_id (doc_id),
  KEY link_institution (link_institution),
  KEY link_type (link_type),
  KEY link_subtype (link_subtype),
  KEY link_id (link_id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Nodes_N_Object_T_DegreeScores (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  avg_degree float NOT NULL,
  avg_log_degree float NOT NULL,
  avg_norm_log_degree float NOT NULL,
  to_process tinyint NOT NULL DEFAULT '0',
  PRIMARY KEY (institution_id,object_type,object_id),
  KEY institution_id (institution_id),
  KEY object_type (object_type),
  KEY object_id (object_id),
  KEY to_process (to_process)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Operations_N_Object_N_Object_T_FieldsRandomSet (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY full_type (from_institution_id,from_object_type,to_institution_id,to_object_type),
  KEY from_full_type (from_institution_id,from_object_type),
  KEY from_full_id (from_institution_id,from_object_type,from_object_id),
  KEY to_full_type (to_institution_id,to_object_type),
  KEY to_full_id (to_institution_id,to_object_type,to_object_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Operations_N_Object_N_Object_T_ScoresRandomSet (
  from_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  from_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  to_object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (from_institution_id,from_object_type,from_object_id,to_institution_id,to_object_type,to_object_id),
  KEY from_institution_id (from_institution_id),
  KEY from_object_type (from_object_type),
  KEY from_object_id (from_object_id),
  KEY to_institution_id (to_institution_id),
  KEY to_object_type (to_object_type),
  KEY to_object_id (to_object_id),
  KEY full_type (from_institution_id,from_object_type,to_institution_id,to_object_type),
  KEY from_full_type (from_institution_id,from_object_type),
  KEY from_full_id (from_institution_id,from_object_type,from_object_id),
  KEY to_full_type (to_institution_id,to_object_type),
  KEY to_full_id (to_institution_id,to_object_type,to_object_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Operations_N_Object_T_FieldsRandomSet (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (institution_id,object_type,object_id),
  KEY from_institution_id (institution_id),
  KEY from_object_type (object_type),
  KEY from_object_id (object_id),
  KEY full_type (institution_id,object_type),
  KEY from_full_type (institution_id,object_type),
  KEY from_full_id (institution_id,object_type,object_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Operations_N_Object_T_ScoresRandomSet (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_type enum('Category','Chart','Concept','Course','Curated area','Dashboard','Exercise','External person','Hardware','Historical figure','Lecture','Learning module','MOOC','News','Notebook','Person','Publication','Slide','Specialisation','Startup','Strategic area','StudyPlan','Transcript','Unit','Widget') COLLATE utf8mb4_unicode_ci NOT NULL,
  object_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (institution_id,object_type,object_id),
  KEY from_institution_id (institution_id),
  KEY from_object_type (object_type),
  KEY from_object_id (object_id),
  KEY full_type (institution_id,object_type),
  KEY from_full_type (institution_id,object_type),
  KEY from_full_id (institution_id,object_type,object_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_Concept_N_Concept_T_Depth2 (
  from_concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  to_concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  row_id int NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (from_concept_id,to_concept_id),
  UNIQUE KEY row_id (row_id),
  KEY from_concept_id (from_concept_id),
  KEY to_concept_id (to_concept_id)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_MOOC_N_Person_N_Publication_N_Concept_T_ConceptDet (
  institution_id varchar(6) COLLATE utf8mb4_unicode_ci NOT NULL,
  mooc_id varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  person_id int unsigned NOT NULL,
  publication_id varchar(128) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id int unsigned NOT NULL,
  score float NOT NULL,
  PRIMARY KEY (institution_id,mooc_id,person_id,publication_id,concept_id),
  KEY institution_id (institution_id),
  KEY mooc_id (mooc_id),
  KEY person_id (person_id),
  KEY publication_id (publication_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_MOOC_N_Publication_N_Concept_T_ConceptDetection (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  mooc_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  publication_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  PRIMARY KEY (institution_id,mooc_id,publication_id,concept_id),
  KEY institution_id (institution_id),
  KEY mooc_id (mooc_id),
  KEY publication_id (publication_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_Person_N_Publication_N_Concept_T_ConceptDetection (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  person_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  publication_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  PRIMARY KEY (institution_id,person_id,publication_id,concept_id),
  KEY institution_id (institution_id),
  KEY person_id (person_id),
  KEY publication_id (publication_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_Person_N_Publication_T_Authorship (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  person_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  publication_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (institution_id,person_id,publication_id),
  KEY institution_id (institution_id),
  KEY person_id (person_id),
  KEY publication_id (publication_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_Publication_N_Concept_T_ConceptDetection (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  publication_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  PRIMARY KEY (institution_id,publication_id,concept_id),
  KEY institution_id (institution_id),
  KEY publication_id (publication_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_Unit_N_Person_T_Affiliation (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  unit_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  person_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  position_group varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (institution_id,unit_id,person_id),
  KEY institution_id (institution_id),
  KEY unit_id (unit_id),
  KEY person_id (person_id),
  KEY position_group (position_group)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS Traversal_N_Unit_N_Publication_N_Concept_T_ConceptDetection (
  institution_id enum('Ont','EPFL','ETHZ','PSI','Empa','Eawag','WSL') COLLATE utf8mb4_unicode_ci NOT NULL,
  unit_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  publication_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  concept_id varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  score float NOT NULL,
  PRIMARY KEY (institution_id,unit_id,publication_id,concept_id),
  KEY institution_id (institution_id),
  KEY unit_id (unit_id),
  KEY publication_id (publication_id),
  KEY concept_id (concept_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
